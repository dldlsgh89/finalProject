<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="kr.or.nationRental.unitedAfterserviceRequest.service.UnitedAfterserviceRequestMapper">
	
	<select id="totalCountReturnGoodsfacilityInfo"
			parameterType="java.util.Map"
			resultType="Integer">
		SELECT
			COUNT(*)
		FROM
			return_goodsfacility_info
		<if test="!searchWord.equals('')">
			<choose>
				<when test="searchSelect.equals('물품/시설 반납 코드')">
					WHERE return_goodsfacility_info_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('대여 코드')">
					WHERE goodsfacility_rental_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('물품/시설 코드')">
					WHERE goodsfacility_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('물품/시설 분류 명')">
					WHERE classify_goodsfacility = #{searchWord}
				</when>
				<when test="searchSelect.equals('시민 ID')">
					WHERE citizen_id = #{searchWord}
				</when>
				<when test="searchSelect.equals('배달반납 유무')">
					WHERE is_requested_to_return_as_delivery = #{searchWord}
				</when>
				<when test="searchSelect.equals('연체일수')">
					WHERE overdue_days = #{searchWord}
				</when>
				<when test="searchSelect.equals('지자체 기관 코드')">
					WHERE adminagency_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('반납확인 공무원 ID')">
					WHERE functionary_id = #{searchWord}
				</when>
				<when test="searchSelect.equals('물품 상태 코드')">
					WHERE state_goods_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('반납 확인 일자')">
					WHERE date_return_check = #{searchWord}
				</when>
			</choose>
		</if>
	</select>
	
	<select id="selectListReturnGoodsfacilityInfo"
			parameterType="java.util.Map"
			resultType="kr.or.nationRental.returnGoodsfacilityInfo.service.ReturnGoodsfacilityInfoDto">
		SELECT
			return_goodsfacility_info_code AS returGoodsfacilityInfoCode
			,goodsfacility_rental_code AS goodsfacilityRentalCode
			,goodsfacility_code AS goodsfacilityCode
			,classify_goodsfacility AS classifyGoodsfacility
			,citizen_id AS citizenId
			,is_requested_to_return_as_delivery AS isRequestedToReturnAsDelivery
			,overdue_days AS overdueDays
			,adminagency_code AS adminagencyCode
			,functionary_id AS functionaryId
			,state_goods_code AS stateGoodsCode
			,date_return_check AS dateReturnCheck
		FROM
			return_goodsfacility_info
		<if test="!searchWord.equals('')">
			<choose>
				<when test="searchSelect.equals('물품/시설 반납 코드')">
					WHERE return_goodsfacility_info_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('대여 코드')">
					WHERE goodsfacility_rental_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('물품/시설 코드')">
					WHERE goodsfacility_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('물품/시설 분류 명')">
					WHERE classify_goodsfacility = #{searchWord}
				</when>
				<when test="searchSelect.equals('시민 ID')">
					WHERE citizen_id = #{searchWord}
				</when>
				<when test="searchSelect.equals('배달반납 유무')">
					WHERE is_requested_to_return_as_delivery = #{searchWord}
				</when>
				<when test="searchSelect.equals('연체일수')">
					WHERE overdue_days = #{searchWord}
				</when>
				<when test="searchSelect.equals('지자체 기관 코드')">
					WHERE adminagency_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('반납확인 공무원 ID')">
					WHERE functionary_id = #{searchWord}
				</when>
				<when test="searchSelect.equals('물품 상태 코드')">
					WHERE state_goods_code = #{searchWord}
				</when>
				<when test="searchSelect.equals('반납 확인 일자')">
					WHERE date_return_check = #{searchWord}
				</when>
			</choose>
		</if>
		ORDER BY return_goodsfacility_info_code DESC
		LIMIT #{beginRow}, #{pagePerRow}
	</select>
	
	
	
	
</mapper>